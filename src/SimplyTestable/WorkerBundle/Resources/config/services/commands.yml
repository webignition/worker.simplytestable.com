services:
  simplytestable.command.maintenance.disablereadonly:
    class: SimplyTestable\WorkerBundle\Command\Maintenance\DisableReadOnlyCommand
    arguments:
        workerService: "@simplytestable.services.workerservice"
    tags:
      - { name: console.command }

  simplytestable.command.maintenance.enablereadonly:
    class: SimplyTestable\WorkerBundle\Command\Maintenance\EnableReadOnlyCommand
    arguments:
        workerService: "@simplytestable.services.workerservice"
    tags:
      - { name: console.command }

  simplytestable.command.memcache.httpcache.clear:
    class: SimplyTestable\WorkerBundle\Command\Memcache\HttpCache\ClearCommand
    arguments:
        memcacheService: "@simplytestable.services.memcacheservice"
    tags:
      - { name: console.command }

  simplytestable.command.maintenance.requeinprogresstasks:
    class: SimplyTestable\WorkerBundle\Command\Maintenance\RequeueInProgressTasksCommand
    arguments:
        taskService: "@simplytestable.services.taskservice"
        resqueQueueService: "@simplytestable.services.resque.queueservice"
        resqueJobFactoryService: "@simplytestable.services.resque.jobfactoryservice"
    tags:
      - { name: console.command }

  simplytestable.command.task.perform:
    class:   SimplyTestable\WorkerBundle\Command\Task\PerformCommand
    arguments:
        logger: "@logger"
        taskService: "@simplytestable.services.taskservice"
        workerService: "@simplytestable.services.workerservice"
        resqueQueueService: "@simplytestable.services.resque.queueservice"
        resqueJobFactoryService: "@simplytestable.services.resque.jobfactoryservice"
    tags:
      - { name: console.command }

  simplytestable.command.task.performenqueue:
    class:   SimplyTestable\WorkerBundle\Command\Task\PerformEnqueueCommand
    arguments:
        taskService: "@simplytestable.services.taskservice"
        resqueQueueService: "@simplytestable.services.resque.queueservice"
        resqueJobFactoryService: "@simplytestable.services.resque.jobfactoryservice"
    tags:
      - { name: console.command }

  simplytestable.command.task.reportcompletionall:
    class:   SimplyTestable\WorkerBundle\Command\Task\ReportCompletionAllCommand
    arguments:
        logger: "@logger"
        taskService: "@simplytestable.services.taskservice"
        workerService: "@simplytestable.services.workerservice"
        entityManager: "@doctrine.orm.entity_manager"
    tags:
      - { name: console.command }

  simplytestable.command.task.reportcompletion:
    class:   SimplyTestable\WorkerBundle\Command\Task\ReportCompletionCommand
    arguments:
        logger: "@logger"
        taskService: "@simplytestable.services.taskservice"
        workerService: "@simplytestable.services.workerservice"
        entityManager: "@doctrine.orm.entity_manager"
    tags:
      - { name: console.command }
